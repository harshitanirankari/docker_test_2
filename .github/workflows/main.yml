steps:
  - name: â¬‡ï¸ Checkout Code
    uses: actions/checkout@v3

  - name: ğŸ” Login to DockerHub
    uses: docker/login-action@v2
    with:
      username: ${{ secrets.DOCKERHUB_USERNAME }}
      password: ${{ secrets.DOCKERHUB_TOKEN }}

  - name: ğŸ› ï¸ Set up Docker Buildx
    uses: docker/setup-buildx-action@v2

  - name: ğŸ§± Build Docker Image
    run: |
      docker buildx build \
        --platform linux/amd64 \
        -t ${{ secrets.DOCKERHUB_USERNAME }}/basic_website \
        . \
        --load

  - name: ğŸ“¤ Push Docker Image
    run: docker push ${{ secrets.DOCKERHUB_USERNAME }}/basic_website
